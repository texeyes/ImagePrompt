<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Universe Builder | Pure Tags</title>
  <style>
    /* 
       THEME: "Cosmic Creator" 
       Inverse Primary Triad: Cyan (Blue-Green), Magenta (Red-Purple), Yellow.
       Background: Deep Space Violet.
    */
    :root {
      /* Deep Space Foundation */
      --bg: #0f0518;          /* Very dark violet/black */
      --panel: #1a0b2e;       /* Lighter violet panel */
      --stroke: #361b54;      /* Border color */
      
      /* Typography */
      --text: #e0d9f6;        /* Soft violet-white text */
      --muted: #9ca3af;       /* Standard muted text */
      
      /* Inverse Primaries (Vibrant) */
      --primary: #00f0ff;     /* CYAN: Main actions, highlights */
      --secondary: #ff0099;   /* MAGENTA: Headers, accents */
      --tertiary: #ffd700;    /* YELLOW: Chips, special highlights */
      
      /* Inputs */
      --field: #240f3e;       /* Input background */
      --chip-bg: #2d1b4e;     
    }

    * { box-sizing: border-box; }
    
    body {
      margin: 0; padding: 30px;
      background: linear-gradient(135deg, #05010a 0%, var(--bg) 100%);
      color: var(--text);
      font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
      min-height: 100vh;
    }

    .wrap {
      max-width: 1200px; margin: 0 auto;
      display: grid; gap: 24px; grid-template-columns: 420px 1fr;
      animation: fadeIn 0.8s ease-out;
    }
    @media (max-width: 980px){ .wrap{ grid-template-columns: 1fr; } }

    /* Header */
    header {
      max-width: 1200px; margin: 0 auto 24px auto;
      text-align: center;
      padding: 20px 0;
    }
    h1 {
      margin: 0 0 8px 0; 
      font-size: 32px; 
      font-weight: 800;
      background: linear-gradient(to right, var(--primary), var(--secondary));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      letter-spacing: -0.5px;
    }
    .sub {
      color: var(--text); opacity: 0.8; font-size: 15px; max-width: 600px; margin: 0 auto;
      line-height: 1.5;
    }

    /* Cards */
    .card {
      background: rgba(26, 11, 46, 0.85); /* Glassy panel */
      border: 1px solid var(--stroke);
      border-radius: 18px;
      box-shadow: 0 8px 32px rgba(0,0,0,0.4);
      overflow: hidden;
      backdrop-filter: blur(10px);
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }
    .card:hover {
      box-shadow: 0 12px 40px rgba(0, 240, 255, 0.05); /* Subtle cyan glow */
      border-color: rgba(0, 240, 255, 0.3);
    }

    .hd {
      padding: 16px 20px;
      border-bottom: 1px solid var(--stroke);
      display: flex; align-items: center; justify-content: space-between; gap: 12px;
      background: rgba(0,0,0,0.2);
    }
    .hd h2 {
      margin: 0; font-size: 15px; font-weight: 700; 
      color: var(--secondary); text-transform: uppercase; letter-spacing: 1px;
    }

    /* Action Buttons */
    .actions { display: flex; gap: 8px; flex-wrap: wrap; justify-content: flex-end; align-items: center; }

    button {
      appearance: none; border: 1px solid var(--stroke);
      background: var(--field); color: var(--text);
      padding: 8px 12px; border-radius: 8px;
      font-size: 12px; font-weight: 600; cursor: pointer;
      transition: all 0.2s;
    }
    button:hover {
      background: rgba(255,255,255,0.1);
      border-color: var(--text);
      transform: translateY(-1px);
    }
    
    /* Primary Action (Cyan) */
    button.primary {
      background: rgba(0, 240, 255, 0.15);
      border-color: var(--primary);
      color: var(--primary);
      box-shadow: 0 0 10px rgba(0, 240, 255, 0.1);
    }
    button.primary:hover {
      background: var(--primary); color: #000;
      box-shadow: 0 0 20px rgba(0, 240, 255, 0.4);
    }

    /* Secondary Action (Magenta/Pink - "Good" actions) */
    button.good {
      background: rgba(255, 0, 153, 0.15);
      border-color: var(--secondary);
      color: var(--secondary);
    }
    button.good:hover {
      background: var(--secondary); color: white;
      box-shadow: 0 0 20px rgba(255, 0, 153, 0.4);
    }

    /* Inputs & Layout */
    .bd { padding: 20px; }
    .grid { display: grid; gap: 16px; }
    
    .field label {
      display: flex; align-items: center; justify-content: space-between; gap: 10px;
      font-size: 12px; color: var(--muted); margin-bottom: 8px; font-weight: 500;
    }
    
    select, textarea, input[type="text"], input[type="number"] {
      width: 100%;
      background: var(--field);
      color: var(--text);
      border: 1px solid var(--stroke);
      border-radius: 8px;
      padding: 12px;
      font-size: 13px;
      outline: none;
      transition: border-color 0.2s, box-shadow 0.2s;
    }
    select:focus, textarea:focus, input:focus {
      border-color: var(--primary);
      box-shadow: 0 0 0 3px rgba(0, 240, 255, 0.15);
    }
    
    .help { margin-top: 6px; color: var(--muted); font-size: 11px; line-height: 1.4; font-style: italic;}
    
    /* Chips */
    .chips { display: flex; flex-wrap: wrap; gap: 8px; margin-top: 16px; }
    .chip {
      background: var(--chip-bg);
      border: 1px solid var(--stroke);
      border-radius: 4px;
      padding: 6px 10px;
      font-size: 11px;
      color: var(--muted);
      border-left: 2px solid var(--tertiary); /* Yellow accent */
    }
    .chip b { color: var(--tertiary); font-weight: 600; margin-left: 4px; }

    /* Outputs */
    .split { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; }
    @media (max-width: 520px){ .split { grid-template-columns: 1fr; } }
    .mono { 
      font-family: 'Menlo', 'Consolas', monospace; 
      font-size: 12px; line-height: 1.5; color: #d4d4d4; 
    }
    textarea[readonly] { background: rgba(0,0,0,0.3); border-color: transparent; }

    /* Controls Group (Number input + Btn) */
    .rnd-group {
      display: inline-flex; gap: 4px; align-items: center; 
      background: var(--field); border: 1px solid var(--stroke); 
      border-radius: 8px; padding: 3px 4px 3px 8px;
    }
    .rnd-group input { 
      border: none; background: transparent; width: 34px; padding: 0; 
      height: auto; text-align: center; color: var(--tertiary); font-weight: bold;
    }
    .rnd-group button {
      border: none; background: transparent; padding: 6px 8px; 
      color: var(--text); font-size: 11px; margin: 0; box-shadow: none;
    }
    .rnd-group button:hover { background: rgba(255,255,255,0.1); color: #fff; transform: none; }

    /* Custom Checkbox Toggle */
    .toggle-label {
      cursor: pointer; display: flex; align-items: center; gap: 6px; 
      font-size: 11px; color: var(--primary); font-weight: 600;
      user-select: none;
      background: rgba(0, 240, 255, 0.05);
      padding: 4px 8px; border-radius: 4px; border: 1px solid transparent;
    }
    .toggle-label:hover { border-color: rgba(0, 240, 255, 0.3); }
    .toggle-label input { accent-color: var(--primary); }

    /* Toast Notification */
    .toast {
      position: fixed; right: 24px; bottom: 24px;
      background: var(--secondary); color: #fff;
      padding: 12px 20px; border-radius: 8px; font-weight: 600;
      box-shadow: 0 10px 30px rgba(255, 0, 153, 0.4);
      opacity: 0; transform: translateY(10px); pointer-events: none;
      transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      z-index: 100;
    }
    .toast.show { opacity: 1; transform: translateY(0); }

    /* Animations */
    @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
  </style>
</head>

<body>
  <header>
    <h1>Universe Builder</h1>
    <p class="sub">
      Welcome, Creator. You are the architect of this reality. <br>
      Select your parameters below to generate something magnificent.
    </p>
  </header>

  <div class="wrap">
    <!-- FILTER CARD -->
    <section class="card" id="builderCard">
      <div class="hd">
        <h2>Parameters</h2>
        <div class="actions">
          <!-- 1) Standard Randomize -->
          <button id="randomizeBtn" class="primary" title="Randomize only checked categories">Randomize Checked</button>
          
          <!-- 2) Random (N) Button -->
          <div class="rnd-group" title="Pick exactly N categories (only from checked)">
             <input type="number" id="rndCountInput" value="3" min="1" max="20">
             <button id="rndCountBtn">Rand(N)</button>
          </div>

          <!-- 3) Random (4-7) Button -->
          <button id="rndRangeBtn" class="primary" title="Pick 4 to 7 random categories (only from checked)">Rand(4-7)</button>

          <div style="width:1px; height:20px; background:var(--stroke); margin:0 4px;"></div>

          <button id="resetBtn" title="Clear selections">Reset</button>
        </div>
      </div>
      <div class="bd">
        <div class="grid" id="form"></div>

        <div class="field" style="margin-top:24px; border-top:1px solid var(--stroke); padding-top:16px;">
          <label>
            <span style="color:var(--tertiary)">Extra Directives (Optional)</span>
            <span style="font-size:10px; opacity:0.6">Appends to final output</span>
          </label>
          <textarea id="extraNotes" placeholder="Add specific constraints: camera angles, lighting specificities, aspect ratios, or magical rules..."></textarea>
        </div>

        <div class="chips" id="chips"></div>
      </div>
    </section>

    <!-- OUTPUT CARD -->
    <section class="card">
      <div class="hd">
        <h2>Reality Output</h2>
        <div class="actions">
           <button id="copyAllBtn" class="good" title="Copy everything">Copy All</button>
        </div>
      </div>
      <div class="bd">
        <div class="split">
          <div class="field">
            <label>
                <span>Spec Sheet</span>
                <button id="copySpecBtn" style="padding:2px 8px; font-size:10px; margin-left:auto">Copy Spec</button>
            </label>
            <textarea id="specOut" class="mono" readonly></textarea>
          </div>
          <div class="field">
            <label>
                <span>Condensed Prompt</span>
                <button id="copyPromptBtn" style="padding:2px 8px; font-size:10px; margin-left:auto">Copy Prompt</button>
            </label>
            <textarea id="promptOut" class="mono" readonly></textarea>
          </div>
        </div>
      </div>
    </section>
  </div>

  <div class="toast" id="toast">Captured! The universe awaits.</div>

<script>
/**
 * -----------------------------------------------------------
 * CONFIGURATION
 * PASTE YOUR ORIGINAL DATA BELOW WHERE INDICATED
 * -----------------------------------------------------------
 */
const CONFIG = {
  version: "2.1 NoDesc",
  generator_name: "Universe Builder",
  categories: [
    {
      key: "archetype",
      label: "Archetype",
      description: "High-level character/concept archetype.",
      required: true,
      multi: false,
      options: [
 { value:"an artist", label:"Artist", description:"an artist who extremely into their art and top in the world." },
        { value:"vaca influencer", label:"Vacation Lifestyle Influencer", description:"Vacation Lifestyle Influencer." },
        { value:"minimalist_light_sculpture", label:"Minimalist Light Sculpture", description:"Minimalist Light Sculpture" },
        { value:"eccentric_fashion_outsider", label:"Eccentric Fashion Outsider", description:"Eccentric Fashion Outsider" },
        { value:"art_deco_android", label:"Art Deco Android", description:"Luxury Art Deco Android; a 1920s-30s retro-futurist mannequin." },
        { value:"wasteland_scavenger", label:"Wasteland Scavenger", description:"Wasteland Scavenger" },
        { value:"desert_wanderer", label:"Desert Wanderer", description:"Rugged frontier icon" },
        { value:"anime waifu", label:"Anime Waifu", description:"Anime Waifu in Pastoral Setting." },
        { value:"tropical_ambassador", label:"Tropical Ambassador", description:"Tropical Ambassador" },
        { value:"deep_sea_leviathan", label:"Deep Sea Leviathan", description:"Deep Sea Leviathan" },
        { value:"Cyberpunk_Neon_Rain", label:"Cyberpunk Neon Rain", description:"Cyberpunk Neon Rain" },
        { value:"ornithological_specimen", label:"Ornithological Specimen", description:"Ornithological Specimen" },
        { value:"digital_consciousness", label:"Digital Consciousness", description:"Digital Consciousness" },
        { value:"coastal_youth_icon", label:"Coastal Youth Icon", description:"Coastal Youth Icon" },
        { value:"laundromat_wander", label:"laundromat wanderer", description:"laundromat wanderer" },
        { value:"creature_costume", label:"Creature Costume", description:"Creature Costume" },
        { value:"tropical_goddess", label:"Tropical Goddess", description:"Tropical Goddess" },
        { value:"lone_romantic", label:"Lone romantic", description:"A vintage Lone romantic" },
        { value:"flying_spaceship", label:"flying a spaceship", description:"character is flying a spaceship" },
        { value:"sacred_landscape_guardian", label:"Sacred landscape guardian", description:"A contemporary Sacred landscape guardian." },
        { value:"modern_minimalist_farmer", label:"Modern minimalist farmer", description:"Modern minimalist farmer" },
        { value:"nocturnal_diner_patron", label:"Nocturnal diner patron", description:"Nocturnal diner patron" },
        { value:"ironic_internet_icon", label:"Ironic internet icon", description:"Ironic internet icon" },
        { value:"modern_fashion_muse", label:"Modern fashion muse", description:"Modern fashion muse" },
        { value:"sacred_feminine_matriarch", label:"Sacred feminine matriarch reimagined", description:"Sacred feminine matriarch reimagined" },
        { value:"Gummy_visionary", label:"Happy Gummy Character", description:"Happy Gummy Character" },
        { value:"tank_girl_adventurer", label:"Post-apocalyptic occupation costume", description:"Post-apocalyptic occupation costume" },
        { value:"modern_rural_beauty", label:"Modern rural beauty", description:"Modern rural beauty" },
        { value:"idealized_fitness_model", label:"Idealized fitness model", description:"Idealized fitness model" },
        { value:"carefree_genz_vacationer", label:"Carefree Gen-Z vacationer", description:"Carefree Gen-Z vacationer" },
        { value:"quirky_alien_character", label:"Quirky alien character", description:"Quirky alien character" }
      ]
    },
    {
      key: "species",
      label: "Species / Being Type",
      description: "What the subject literally is (human, android, creature, etc).",
      required: true,
      multi: false,
      options: [
        { value:"human_machine_hybrid_male", label:"Human-machine hybrid or android", description:"Human-machine hybrid or android" },
        { value:"mythological_female", label:"Mythological creature", description:"A female Mythological character" },
        { value:"inanimate_installation_with_scale_figure", label:"architectural installation", description:"architectural installation" },
        { value:"maritime_couture_muse", label:"Maritime Couture Muse", description:"Ocean goddess and sea queen; a nature-adorned high-fashion icon." },
        { value:"folk_art_companion_dog", label:"Folk Art Companion", description:"Folk Art Companion" },
        { value:"biomech_tuna", label:"Biomechanical Specimen", description:"Biomechanical Specimen" },
        { value:"hybrid_creature", label:"Hybrid Creature", description:"Hybrid Creature" },
        { value:"anthropomorphic_animals", label:"Anthropomorphic Animal", description:"Anthropomorphic Animal" },
        { value:"human_female_refined", label:"Human female", description:"Young female with refined, fashionable beauty." },
        { value:"domestic_dog_whippet", label:"Domestic dog", description:"Domestic dog" },
        { value:"architectural_human_figure", label:"Architectural human figure", description:"Architectural human figure" },
        { value:"zelda_char_aesthetic", label:"A Character in Zelda Aesthetic", description:"A Character in Zelda Aesthetic" },
        { value:"Cats", label:"Cat", description:"Cat" },
        { value:"female_form_android", label:"A Character in MINECRAFT Aesthetic", description:"A Character in MINECRAFT Aesthetic" },
        { value:"pressure_suit_human", label:"Human in pressure suit", description:"Human in pressure suit" },
        { value:"human_male_adult", label:"Human male (adult)", description:"Human male (adult)" },
        { value:"Memory_Weather_Spirit", label:"Memory Weather Spirit", description:"Memory Weather Spirit" },
        { value:"blue_morph_iguana", label:"Blue-morph iguana", description:"Blue-morph iguana." },
        { value:"kraken_squid", label:"Giant squid / kraken", description:"Giant kraken" },
        { value:"Digital_Corruption", label:"Digital Corruption Entitie", description:"Digital Corruption cartoon character." },
        { value:"Birds", label:"Birds", description:"Birds" },
        { value:"Microbiome_cuties", label:"Microbiome cuties", description:"Microbiome cuties." },
        { value:"Liminal_Space_Dwellers", label:"Liminal Space Dwellers", description:"character is Liminal Space Dweller." },
        { value:"human_female_urbanite", label:"Human female urbanite", description:"Human female urbanite." },
        { value:"Nostalgia Beings", label:"Character is Nostalgia Fragments", description:"Character is Nostalgia Fragments" },
        { value:"human_female_athletic", label:"Human female (athletic)", description:"female with an athletic build." },
        { value:"Seasonally_Transforming_Beings", label:"Character is Seasonally Transforming", description:"Character is Seasonally Transforming" },
        { value:"Cosmic_Oddities_Cuties", label:"Cosmic Oddities Cuties", description:"Cosmic Oddities Cutie" },
        { value:"character_dots", label:"Character is dots", description:"Character is Rendered in dots a pointillist abstraction." },
        { value:"young_adult_human_female", label:"Young adult human female", description:"Young adult human female." },
        { value:"Personifications", label:"Character is Emotional/Abstract Concept Personifications", description:"Character is a Emotional/Abstract Concept Personification" },
        { value:"Classical_Creatures", label:"Classical Creatures", description:"iconic Classical Creature" },
        { value:"three_eyed_guru", label:"random century's cartoon character", description:"random century's cartoon character" },
        { value:"Household_Yokai_style", label:"character is Household Object Guardian", description:"character is Household Object Guardian" },
        { value:"anime_stylized_female", label:"Stylized human female (anime)", description:"Anime-style female." },
        { value:"athletic_female", label:"Athletic human female", description:"Athletic female." },
        { value:"Sentient_Dessert_Creatures", label:"Sentient Dessert Creatures", description:"character is Sentient Dessert Creature" }
      ]
    },
    {
      key: "genre",
      label: "Genre / World",
      description: "Narrative + worldbuilding frame.",
      required: true,
      multi: false,
      options: [
   { value:"Corporate_Mysticism", label:"Corporate Mysticism", description:"Corporate Mysticism: Late-Stage Capitalism Meets Magic ." },
        { value:"Cozy_Apocalypse", label:"Cozy Apocalypse", description:"Cozy Apocalypse The World Ended But We’re Vibing ." },
        { value:"contemporary_minimalist_art", label:"Contemporary minimalist art", description:"Experiential urban design and public light installations." },
        { value:"high_fashion_editorial", label:"High-fashion editorial", description:"Fantasy realism and coastal luxury glamour." },
        { value:"decorative_folk_art", label:"Decorative arts", description:"Folk art and mid-century primitive modernism." },
        { value:"Nostalgia_Archaeology", label:"Nostalgia Archaeology", description:"Nostalgia Archaeology." },
        { value:"luxury_resort_architecture", label:"Contemporary luxury architecture", description:"Tropical resort design and high-end hospitality." },
        { value:"Solarpunk_Everyday", label:"Solarpunk Everyday", description:"Solarpunk Everyday:Optimistic Future As Lived Reality." },
        { value:"surrealist_photography", label:"Surrealist photography", description:"Quirky indie film aesthetic and art gallery whimsy." },
        { value:"art_deco_retrofuturism", label:"Retro-futurism", description:"Art Deco sci-fi and 1920s modernism." },
        { value:"post_apocalyptic_dieselpunk", label:"Post-apocalyptic dieselpunk", description:"Hard sci-fi realism inspired by Fallout or Borderlands." },
        { value:"southwestern_americana", label:"Southwestern Americana", description:"1960s-70s tourism poster art." },
        { value:"Liminal_Commerce", label:"Liminal Commerce", description:"Liminal Commerce: The Economy of In-Between Spaces" },
        { value:"tropical_naturalist_art", label:"Tropical naturalist art", description:"Contemporary wildlife illustration and island tourism graphics." },
        { value:"maritime_mythology", label:"Maritime mythology", description:"Victorian sea monster documentation and gothic oceanography." },
        { value:"polynesian_heritage", label:"Archaeology + contemporary art", description:"Polynesian cultural heritage documentation." },
        { value:"modern_natural_history", label:"Modern natural history", description:"Contemporary decorative wildlife illustration." },
        { value:"cyberpunk_luxury", label:"Cyberpunk luxury", description:"Digital consciousness and interface design." },
        { value:"surf_culture_illustration", label:"Surf culture illustration", description:"Graphic novel beach lifestyle aesthetic." },
        { value:"neo_noir_urban_realism", label:"Neo-noir urban realism", description:"Nocturnal city life and liminal spaces." },
        { value:"visionary_psychedelic", label:"Visionary psychedelic art", description:"1960s counterculture and Op Art exploration." },
        { value:"lifestyle_vacation_portrait", label:"Lifestyle fashion portraiture", description:"Tropical vacation and aspirational travel imagery." },
        { value:"vintage_western_photo", label:"Vintage western photography", description:"Nostalgic Old West Americana." },
        { value:"midcentury_western_illustration", label:"Mid-century western illustration", description:"Children's book aesthetic." },
        { value:"aboriginal_fusion", label:"Contemporary Aboriginal fine art", description:"Indigenous cultural fusion." },
        { value:"modern_vector_western", label:"Modern vector western", description:"Commercial poster illustration." },
        { value:"urban_diner_realism", label:"Urban nocturnal realism", description:"Cinematic diner culture." },
        { value:"internet_vaporwave", label:"Internet vaporwave art", description:"Psychedelic meme aesthetic." },
        { value:"fashion_editorial", label:"Contemporary fashion editorial", description:"Artistic portraiture." },
        { value:"Multiverse_Mundane", label:"Multiverse Mundane", description:"Multiverse Mundane: Infinite Worlds, Boring Problems." },
        { value:"psychedelic_comix", label:"Psychedelic underground comix", description:"Spiritual surrealism + retro 70s counterculture." },
        { value:"post_apoc_scifi_concept", label:"Post-apocalyptic sci-fi", description:"Desert punk concept art." },
        { value:"slice_of_life_anime", label:"Slice-of-life anime", description:"Pastoral countryside aesthetic." },
        { value:"high_end_commercial_photo", label:"High-end commercial photography", description:"Fitness and wellness advertising." },
        { value:"viral_social_vlog", label:"Viral social media vlog", description:"Aspirational travel/lifestyle content." },
        { value:"Bureaucratic_Fantasy", label:"Bureaucratic Fantasy", description:"Bureaucratic Fantasy" }
      ]
    },
    {
      key: "medium",
      label: "Art Medium / Rendering Mode",
      description: "How it’s rendered: photo, 3D, illustration, printmaking, etc.",
      required: true,
      multi: false,
      options: [
   { value:"3d_relief_physical", label:"High-detail 3D render (relief metalwork)", description:"Photorealistic material physics; sculptural relief with ornate metalwork." },
        { value:"cinematic_3d_vfx", label:"Cinematic 3D render (creature VFX)", description:"Film-quality VFX; practical effects aesthetic focused on creature design." },
        { value:"architectural_photo_or_viz", label:"Architectural photography / 3D viz", description:"Clean, minimal fine-art documentation." },
        { value:"fashion_photo", label:"Photorealistic fashion render/photo", description:"Magazine-quality post-processing." },
        { value:"linocut_woodblock", label:"Linocut / woodblock print", description:"Traditional printmaking with watercolor washes." },
        { value:"technical_illustration", label:"Hand-drawn technical illustration", description:"Pen & ink with watercolor wash and blueprint aesthetics." },
        { value:"hdr_archviz", label:"Photorealistic 3D architectural visualization (HDR)", description:"Hyperreal magazine aesthetic." },
        { value:"red_ink_sketch", label:"Pen & ink sketch (red ink)", description:"Loose gestural red ink drawing on white paper." },
        { value:"vintage_film_composite", label:"Photorealistic digital composite (vintage grade)", description:"Cinematic vintage film grading." },
        { value:"3d_art_deco_polish", label:"High-end 3D render (chrome/porcelain)", description:"Polished chrome and porcelain visualization." },
        { value:"cel_shaded_comic", label:"Cel-shaded 3D / comic illustration", description:"Bold line work and flat fills." },
        { value:"screenprint_poster", label:"Screen print / retro poster", description:"Limited palette; t-shirt graphic aesthetic." },
        { value:"digital_painting", label:"Digital painting", description:"Gestural brushwork; matte painting concept." },
        { value:"vibrant_ink_illustration", label:"Digital illustration (ink line)", description:"Vibrant fills with strong ink line work." },
        { value:"engraving_woodcut", label:"Engraving / woodcut", description:"Vintage scientific illustration with distressed paper." },
        { value:"photo_with_paint_overlay", label:"Photo/3D with painted overlay", description:"Photoreal base with painted digital overlay." },
        { value:"mixed_media_collage", label:"Mixed media digital collage", description:"Gouache bird + patterned paper textures." },
        { value:"gold_lattice_wireframe", label:"High-end 3D lattice wireframe", description:"Metallic wireframe modeling with photoreal textures." },
        { value:"manga_celshade", label:"Digital illustration (manga cel-shading)", description:"Clean cel-shading and manga line work." },
        { value:"analog_film_square", label:"Analog film photography (square)", description:"Cinematic green-cyan grade." },
        { value:"op_art_hard_edge", label:"Hard-edge Op Art painting", description:"Precise symmetrical Op Art patterns." },
        { value:"natural_light_lifestyle", label:"Natural light lifestyle photography", description:"Shallow depth of field." },
        { value:"vintage_color_photo", label:"Vintage color photography", description:"Hand-tinted 1950s film look." },
        { value:"expressionist_sketch", label:"Expressionist watercolor/ink sketch", description:"Loose gestures." },
        { value:"dot_painting", label:"Aboriginal dot painting", description:"Acrylic pointillism." },
        { value:"vector_geometric", label:"Digital vector art", description:"Flat geometric shapes and gradients." },
        { value:"analog_film_grain", label:"Analog film (heavy grain)", description:"Cinematic color grading." },
        { value:"lofi_glitch_halftone", label:"Lo-fi illustration (halftone/glitch)", description:"Halftone screens and glitch effects." },
        { value:"gel_lit_photo", label:"High-end digital photography (gels)", description:"Professional colored gel lighting." },
        { value:"watercolor_gouache_cutouts", label:"Mixed media watercolor/gouache cutouts", description:"Paper cutout collage." },
        { value:"risograph_vector", label:"Riso-style digital illustration", description:"Flat vector colors with slight grain." },
        { value:"clean_cel_shading", label:"Digital cel-shading", description:"Clean ink outlines and flat comic-book coloring." },
        { value:"anime_cel", label:"High-quality anime cel-shading", description:"Smooth edges; painterly background." },
        { value:"hyper_polished_studio", label:"Photoreal studio photo/3D", description:"Hyper-polished studio quality." },
        { value:"vertical_smartphone_screenshot", label:"Vertical smartphone video screenshot", description:"Vibrant, compressed consumer footage." },
        { value:"vertical_practical_fx_video", label:"Vertical smartphone practical FX video", description:"Practical makeup/prosthetics; no digital VFX." }
      ]
    },
    {
      key: "head",
      label: "Face / Head Motif",
      description: "Primary head/face silhouette and defining motif.",
      required: true,
      multi: false,
      options: [
     { value:"Alien_dollface", label:"Alien dollface", description:"(prosthetic brow ridge + huge black eyes)”; glossy wet skin, high-contrast contour, practical FX seams visible for authenticity.." },
        { value:"Cyber_Sigilism", label:"Cyber Sigilism face-map", description:"symmetrical black chrome linework/sigils around eyes and cheeks, with a centered forehead glyph" },
        { value:"na_installation", label:"installation pose", description:"Abstract installation piece." },
        { value:"classic_beauty_filgree", label:"Classic European beauty", description:"Porcelain skin, copper eyeshadow; hair with gold filigree & turquoise." },
        { value:"dog_geometric_muzzle", label:"Simplified geometric head", description:"Narrow long muzzle; minimal features suggested by patterns." },
        { value:"tuna_porthole_eye", label:"Mechanical head", description:"Large eye as porthole lens with visible machinery." },
        { value:"devil_horns_stare", label:"deadpan stare", description:"deadpan stare" },
        { value:"sunglasses", label:"amber sunglasses", description:"Expressionless, stoic." },
        { value:"porcelain_eyes_closed", label:"Porcelain face", description:"Dramatic eyeliner; dark lips; contemplative." },
        { value:"helmet_cyclops", label:"Dome helmet (Cyclops lens)", description:"Single glowing red lens." },
        { value:"sombrero_beard_profile", label:"winking", description:"winking." },
        { value:"boba_eyes", label:"Soft dreamy boba eyes anime face", description:"oversized glossy eyes + gradient lip + pastel liner." },
        { value:"iguana_profile", label:"Profile view", description:"Detailed iris; crown of spiky dorsal scales." },
        { value:"kraken_eye_tentacles", label:"laughing", description:"Large focal eye; tentacles emerge from base." },
        { value:"Euphoria_rhinestone", label:"Euphoria rhinestone eye constellation", description:"Euphoria rhinestone eye constellation. clustered gems around outer corners + glitter tear duct highlight" },
        { value:"booby_profile", label:"bird like profile", description:"bird like profile" },
        { value:"shifty_voids", label:"shifty", description:"shifty." },
        { value:"surfer_3q_smile", label:"3/4 profile", description:"Windswept hair; confident slight smile." },
        { value:"laundromat_anonymous", label:"Anonymous (distant angle)", description:"Face obscured by distance and back-three-quarter angle." },
        { value:"owl_hypnotic", label:"Hypnotic concentric eyes", description:"Radial patterns emanating from central beak." },
        { value:"sun_kissed_gaze", label:"Dreamy upward gaze", description:"Water droplets; gold hoop earrings." },
        { value:"shadowed_hat", label:"glowing features", description:"Anonymous silhouette under wide brim." },
        { value:"deadpan_unicorn", label:"Deadpan cute unicorn face", description:"Black dot eyes; striped horn." },
        { value:"Cyber-sigil_mask", label:"Cyber-sigil eyeliner mask", description:"thin symmetrical sigil lines only around eyes." },
        { value:"halo_madonna", label:"Serene face + halo", description:"Pale European face with golden halo; contrasted by beast masks." },
        { value:"third_eye_mystic", label:"quincing", description:"Turquoise hair; prominent third eye." },
        { value:"goggles_adventurer", label:"Adventurer with goggles", description:"Turquoise cap; determined expression." },
        { value:"anime_turquoise_eyes", label:"Anime face", description:"Coral lips; lime-yellow bob." },
        { value:"fitness_symmetry", label:"Fitness beauty symmetry", description:"Pro makeup; high ponytail; direct engagement." },
        { value:"vacation_sunglasses_smile", label:"Sunglasses smile", description:"Windblown hair; genuine joy." },
        { value:"alien_mask_grotesque", label:"Grotesque alien mask", description:"Massive black eyes; turquoise skin; crooked yellow teeth." }
      ]
    },
    {
      key: "outfit",
      label: "Outfit (Wardrobe Set)",
      description: "Wardrobe / costume description.",
      required: true,
      multi: false,
      options: [
        { value:"ceremonial_gear_armor", label:"Ceremonial body-armor fused to body", description:"Weathered teal-patina mandarin collar; chest plate of gears and symbols." },
        { value:"installation_coat_scale", label:"Scale figure winter coat", description:"Dark, stark winter coat." },
        { value:"haute_couture_shells", label:"Haute couture seashell bodice", description:"Cowries, pearls, turquoise stones, gold thread." },
        { value:"folk_dog_collar", label:"Decorative neck collar", description:"Geometric dots and linear folk patterns." },
        { value:"resort_arch_materials", label:"Architectural materials", description:"Teak wood, turquoise glass, dark stone." },
        { value:"victorian_formal_devil", label:"Victorian formal menswear", description:"Tailored jacket, waistcoat, cravat." },
        { value:"polkadot_robe_platforms", label:"Polka-dot robe + platforms", description:"Golden-yellow robe; tie; chunky black platform shoes." },
        { value:"artdeco_vinyl_armor", label:"Glossy vinyl armor", description:"Black vinyl with yellow-gold art deco panels." },
        { value:"pressure_suit_weathered", label:"Weathered pressure suit", description:"Cream-tan suit with blue-grey armor panels and pouches." },
        { value:"vaquero_workshirt", label:"Turquoise-teal western work shirt", description:"Yellow-gold highlights." },
        { value:"moss_consumed_cowboy", label:"Cowboy remnants consumed by moss", description:"Leather belt/boots/denim overtaken by living moss." },
        { value:"business_formal_suit", label:"Business formal", description:"White collar; dark navy suit jacket." },
        { value:"surfer_boardshorts", label:"Shirtless + board shorts", description:"Teal-blue board shorts; towel at waist." },
        { value:"hoodie_jeans", label:"Casual hoodie + jeans", description:"Functional and nondescript." },
        { value:"energy_field_feathers", label:"Feather energy field", description:"Decorative energy field covering entire form." },
        { value:"bikini_terracotta", label:"Terracotta bikini", description:"Thin shoulder straps." },
        { value:"dusty_rose_suit_hat", label:"Dusty rose suit + Stetson", description:"Romanticized western wear." },
        { value:"bold_red_poncho", label:"Bold red poncho/serape", description:"Simplified forms." },
        { value:"burgundy_workshirt", label:"Burgundy work shirt + denim", description:"Practical ranch wear." },
        { value:"utility_dark", label:"Dark utility clothing", description:"Functional, nondescript." },
        { value:"unicorn_none", label:"None (unicorn body)", description:"Pale yellow body with dark mane." },
        { value:"blue_blazer", label:"Light blue blazer", description:"White crisp shirt." },
        { value:"religious_robes", label:"Traditional 80s clothes", description:"Traditional 80s clothes" },
        { value:"scavenger_gear_cat", label:"Scavenger gear", description:"Leather harness; baggy turquoise pants; canvas boots; with cat." },
        { value:"summer_crop_denim", label:"Casual summer wear", description:"Black crop top; high-waisted denim jeans." },
        { value:"black_bikini_gold", label:"Minimal black bikini (gold hardware)", description:"Sleek and athletic." },
        { value:"white_polka_bikini", label:"Retro white bikini (polka dots)", description:"Playful and revealing." },
        { value:"clown_collar", label:"bubblegum-pink collar", description:"Over textured multicolored garment." }
      ]
    },
    {
      key: "materials",
      label: "Materials & Textures",
      description: "Surface/material language to emphasize.",
      required: true,
      multi: false,
      options: [
    { value:"verdigris_metal", label:"Aged copper/brass verdigris", description:"Engraved metal with Art Nouveau flowing lines." },
        { value:"skin_scales_real", label:"Realistic skin + wet serpent scales", description:"Subsurface scattering; pores; glistening scales." },
        { value:"translucent_panels", label:"Translucent backlit panels", description:"Acrylic/resin; seamless gradients; reflective base." },
        { value:"nacre_pearls_turquoise", label:"Nacre/pearls/turquoise", description:"Iridescent shell nacre; lustrous pearls; polished turquoise." },
        { value:"paper_grain_ink", label:"Paper grain + ink", description:"Visible paper grain; varied line weights; crosshatching." },
        { value:"chrome_porcelain", label:"Chrome + porcelain", description:"Mirror metals; glossy lacquer; matte porcelain." },
        { value:"canvas_dirt_rust", label:"Canvas + dirt + rust", description:"Heavy canvas; chipped paint; oxidized rust." },
        { value:"moss_vs_leather", label:"Living vegetation vs leather/denim", description:"Moss/fronds vs tattered denim and weathered leather." },
        { value:"reptile_scales_petals", label:"Reptilian scales + petals", description:"Scale detail; leaf veins; soft petals." },
        { value:"engraved_paper_distress", label:"Engraved lines on aged paper", description:"Cross-hatching on distressed paper." },
        { value:"stone_vs_pigment", label:"Volcanic stone + modern pigment", description:"Weathered stone base contrasting matte paint." },
        { value:"wireframe_gold_vs_fabric", label:"Gold lattice vs suit fabric", description:"Polished gold wireframe; cotton + matte suiting." },
        { value:"film_grain_fluorescent", label:"Film grain + chrome + tiles", description:"Organic grain; chrome doors; glossy floor tiles." },
        { value:"op_art_smooth_fields", label:"Smooth Op Art fields", description:"No visible brushstroke or grain." },
        { value:"wet_skin_bokeh", label:"Wet skin + water bokeh", description:"Water droplets; glossy hair; reflective ripples." },
        { value:"halftone_glitch", label:"Halftone + noise + glitch", description:"Retro halftone; digital noise; glitch artifacts." },
        { value:"prosthetics_silicone_latex", label:"Silicone/latex prosthetics", description:"Wet organic prosthetics vs dry fabric." }
      ]
    },
    {
      key: "pose",
      label: "Action / Pose",
      description: "Body language and action.",
      required: true,
      multi: false,
      options: [
    { value:"hieratic_frontal", label:"Hieratic frontal", description:"Hieratic frontal" },
        { value:"concealed_profile_snakes", label:"Concealed profile", description:"Concealed profile." },
        { value:"installation_midstride_scale", label:"Installation + mid-stride scale figure", description:"Installation + mid-stride scale figure" },
        { value:"serene_regal_profile", label:"Serene regal profile", description:"Serene regal profile." },
        { value:"alert_seated_dog", label:"Static seated", description:"Static seated" },
        { value:"swimming_profile_tuna", label:"Side-profile", description:"Side-profile" },
        { value:"devil_seated_commanding", label:"Commanding seated", description:"Commanding seated" },
        { value:"waiting_dangling_legs", label:"Passive waiting", description:"Passive waiting" },
        { value:"sculptural_head_tilted", label:"Sculptural head tilted back", description:"Peaceful profile." },
        { value:"survivor_threeq_back", label:"Active survivor stance", description:"Three-quarter back view walking/standing." },
        { value:"stoic_desert_profile", label:"Stoic profile gaze", description:"Looking toward distant horizon." },
        { value:"ominous_frontal", label:"Ominous frontal stance", description:"Grounded and confronting." },
        { value:"basking_profile", label:"Resting/basking", description:"Head turned; noble profile." },
        { value:"leviathan_vertical_float", label:"Vertical float/swim", description:"Tentacles drifting in current." },
        { value:"guardian_moai", label:"Monumental guardian stance", description:"Head tilted slightly upward." },
        { value:"booby_portrait", label:"Graceful upright portrait", description:"Alert seabird at rest." },
        { value:"wireframe_contemplation", label:"Elegant 3/4 tilt", description:"Mannequin-like contemplation." },
        { value:"surfer_relaxed", label:"Relaxed athletic stance", description:"Looking off-frame toward ocean." },
        { value:"laundromat_still", label:"Solitary contemplation", description:"Standing still in quiet laundromat." },
        { value:"op_art_confrontation", label:"Frontal confrontation", description:"Direct eye contact; symmetrical vibration." },
        { value:"submerged_bliss", label:"Partially submerged bliss", description:"Head tilted back; sun-worship gesture." },
        { value:"campfire_gazing", label:"Seated by fire", description:"Gazing into the fire." },
        { value:"warming_hands", label:"Warming hands", description:"Peaceful gathering by fire." },
        { value:"crosslegged_meditation", label:"Cross-legged meditation", description:"Spiritual connection." },
        { value:"diner_eating", label:"Active eating", description:"Candid enjoyment; eyes closed." },
        { value:"meme_ready_still", label:"Meme-ready stillness", description:"Static standing 'waiting' pose." },
        { value:"brooding_threeq_turn", label:"Brooding three-quarter turn", description:"Intense gaze off-camera." },
        { value:"throne_of_wisdom", label:"Throne of Wisdom", description:"Seated; guardians alert." },
        { value:"hand_reaching", label:"Hieratic frontal + reaching hand", description:"Foreground hand reaches toward viewer." },
        { value:"power_stance_guitar", label:"Power stance", description:"Wide-legged; guitar ready." },
        { value:"model_contrapposto", label:"Contrapposto", description:"Relaxed; contemplative profile." },
        { value:"commercial_hand_on_hip", label:"Commercial model pose", description:"Hand on hip; weight shifted." },
        { value:"woo_girl_stride", label:"Celebration mid-stride", description:"Arms raised; 'woo-girl' energy." },
        { value:"fx_showcase_frontal", label:"Frontal showcase", description:"Static to show costume details." }
     ]
    }
  ]
};

// ---- App State ----
const state = {
  selections: {}, 
  extraNotes: ""
};

// ---- DOM Elements ----
const $form = document.getElementById("form");
const $chips = document.getElementById("chips");
const $specOut = document.getElementById("specOut");
const $promptOut = document.getElementById("promptOut");
const $extraNotes = document.getElementById("extraNotes");
const $toast = document.getElementById("toast");

// ---- Helpers ----
const el = (tag, props={}, children=[]) => {
  const n = document.createElement(tag);
  for(let k in props) n.setAttribute(k, props[k]);
  children.forEach(c => n.appendChild(c));
  return n;
};

const randomPick = (arr) => arr[Math.floor(Math.random() * arr.length)];

/**
 * 1. BUILD FORM
 * Creates dropdowns + "Include" checkboxes.
 */
function buildForm() {
  $form.innerHTML = "";

  for (const cat of CONFIG.categories) {
    const id = `sel_${cat.key}`;

    // CHECKBOX: "Include" toggle
    const $chk = el("input", { type:"checkbox", class:"rnd-include", "data-key":cat.key });
    $chk.checked = true; // Default to included

    const $chkLabel = el("label", { class:"toggle-label" }, [
        $chk,
        document.createTextNode("Include")
    ]);

    // Label Row
    const $labelRow = el("div", { style:"display:flex; justify-content:space-between; align-items:center; margin-bottom:6px" }, [
      el("span", { style:"font-size:13px; color:var(--text); font-weight:700" }, [ document.createTextNode(cat.label) ]),
      $chkLabel
    ]);

    // Select Dropdown
    const $select = el("select", { id }, []);
    $select.appendChild(el("option", { value:"" }, [document.createTextNode(`Select ${cat.label}…`)]));
    for (const opt of cat.options) {
      const o = el("option", { value: opt.value }, [document.createTextNode(opt.label)]);
      $select.appendChild(o);
    }

    $select.addEventListener("change", () => {
      state.selections[cat.key] = $select.value;
      renderAll();
    });

    const $help = el("div", { class:"help", id:`help_${cat.key}` }, [document.createTextNode(cat.description || "")]);

    const $field = el("div", { class:"field" }, [ $labelRow, $select, $help ]);
    $form.appendChild($field);
  }
}

/**
 * 2. RENDER OUTPUTS
 * UPDATED: Removes all "description" text from the final output boxes.
 */
function renderAll() {
  const specLines = [];
  const promptParts = [];
  const activeChips = [];

  for (const cat of CONFIG.categories) {
    const val = state.selections[cat.key];
    if (val) {
      const opt = cat.options.find(o => o.value === val);
      if (opt) {
        // Spec format: Category: Selected Item Name (No description)
        specLines.push(`${cat.label}: ${opt.label}`);
        
        // Prompt format: Selected Item Name (No description)
        promptParts.push(opt.label);
        
        // Chips
        activeChips.push({ label: cat.label, val: opt.label });
      }
    }
  }

  if (state.extraNotes.trim()) {
    specLines.push(`\n[Directives]: ${state.extraNotes}`);
    promptParts.push(state.extraNotes);
  }

  $specOut.value = specLines.join("\n");
  $promptOut.value = promptParts.join(", ");

  // Render chips
  $chips.innerHTML = "";
  activeChips.forEach(c => {
    const ch = el("div", { class:"chip" }, [
      document.createTextNode(`${c.label}: `),
      el("b", {}, [document.createTextNode(c.val)])
    ]);
    $chips.appendChild(ch);
  });
}

/**
 * 3. NEW LOGIC: RANDOMIZE SUBSET + INCLUDE CHECK
 * Allows randomizing N categories, but ONLY from the ones marked 'Include'.
 */
function randomizeSubset(count) {
  state.selections = {}; // Clear previous selections

  // A. Filter categories: Must be in CONFIG *and* checkbox must be checked
  const eligibleCats = CONFIG.categories.filter(cat => {
    const chk = document.querySelector(`.rnd-include[data-key="${cat.key}"]`);
    return chk && chk.checked;
  });

  // B. Shuffle the eligible pool
  const shuffled = [...eligibleCats];
  for (let i = shuffled.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
  }

  // C. Pick top N (or fewer if we don't have enough included categories)
  const targetCats = shuffled.slice(0, count);

  // D. Assign values
  for (const cat of CONFIG.categories) {
    // Only assign if it was picked in our target list
    if (targetCats.includes(cat)) {
       const opt = randomPick(cat.options);
       state.selections[cat.key] = opt.value;
    } else {
       state.selections[cat.key] = "";
    }
    
    // Sync UI
    const sel = document.getElementById(`sel_${cat.key}`);
    if (sel) sel.value = state.selections[cat.key];
  }

  renderAll();
  
  const msgCount = Math.min(count, eligibleCats.length);
  showToast(`Manifested ${msgCount} attributes.`);
}

// ---- Event Listeners ----

// RESET
document.getElementById("resetBtn").addEventListener("click", () => {
  state.selections = {};
  state.extraNotes = "";
  $extraNotes.value = "";
  // Reset checkboxes to checked
  document.querySelectorAll(".rnd-include").forEach(c => c.checked = true);
  
  // Clear dropdowns
  for (const cat of CONFIG.categories) {
    const sel = document.getElementById(`sel_${cat.key}`);
    if(sel) sel.value = "";
  }
  renderAll();
  showToast("Reality Reset.");
});

// 1) RANDOMIZE CHECKED
document.getElementById("randomizeBtn").addEventListener("click", () => {
  let count = 0;
  for (const cat of CONFIG.categories) {
    const chk = document.querySelector(`.rnd-include[data-key="${cat.key}"]`);
    
    // Only pick if checkbox is checked
    if (chk && chk.checked) {
      const opt = randomPick(cat.options);
      state.selections[cat.key] = opt?.value || "";
      count++;
    } else {
      state.selections[cat.key] = "";
    }

    const sel = document.getElementById(`sel_${cat.key}`);
    if (sel) sel.value = state.selections[cat.key];
  }
  renderAll();
  showToast(`Randomized ${count} categories.`);
});

// 2) RANDOM (N)
document.getElementById("rndCountBtn").addEventListener("click", () => {
  const val = parseInt(document.getElementById("rndCountInput").value) || 3;
  randomizeSubset(val);
});

// 3) RANDOM (4-7)
document.getElementById("rndRangeBtn").addEventListener("click", () => {
  const min = 4;
  const max = 7;
  const count = Math.floor(Math.random() * (max - min + 1)) + min;
  randomizeSubset(count);
});

// COPY Buttons
document.getElementById("copyPromptBtn").addEventListener("click", () => {
  if(!$promptOut.value) return;
  navigator.clipboard.writeText($promptOut.value).then(() => showToast("Prompt Captured!"));
});

document.getElementById("copySpecBtn").addEventListener("click", () => {
  if(!$specOut.value) return;
  navigator.clipboard.writeText($specOut.value).then(() => showToast("Spec Sheet Captured!"));
});

document.getElementById("copyAllBtn").addEventListener("click", () => {
  if(!$specOut.value) return;
  const fullText = $specOut.value + "\n\n---\n\n" + $promptOut.value;
  navigator.clipboard.writeText(fullText).then(() => showToast("Full Reality Captured!"));
});

// Notes Listener
$extraNotes.addEventListener("input", () => {
  state.extraNotes = $extraNotes.value;
  renderAll();
});

// Toast Helper
function showToast(msg) {
  $toast.textContent = msg;
  $toast.classList.add("show");
  setTimeout(() => $toast.classList.remove("show"), 2500);
}

// Init
buildForm();
renderAll();

</script>
</body>
</html>
</script>
</body>
</html>
